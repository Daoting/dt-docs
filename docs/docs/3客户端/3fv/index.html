<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Fv - 搬运工</title>
        <meta name="Description" content="利用 C# &#43; XAML 进行快速业务开发的跨平台框架">
        <meta name="application-name" content="搬运工">
        <meta name="apple-mobile-web-app-title" content="搬运工">
        <meta name="theme-color" content="#ffffff">
        <meta name="msapplication-TileColor" content="#da532c">
        <link rel="shortcut icon" type="image/x-icon" href="/dt-docs/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/dt-docs/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/dt-docs/favicon-16x16.png">
        <link rel="apple-touch-icon" sizes="180x180" href="/dt-docs/apple-touch-icon.png">
        <link rel="mask-icon" href="/dt-docs/safari-pinned-tab.svg" color="#5bbad5">
        <link rel="manifest" href="/dt-docs/site.webmanifest">
        <link rel="canonical" href="https://daotingh.gitee.io/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/" />
        <link rel="alternate" href="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/index.xml" type="application/rss+xml" title="搬运工">
        <link rel="feed" href="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/index.xml" type="application/rss+xml" title="搬运工"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css"><link rel="stylesheet" href="/dt-docs/css/style.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css">
    </head>
    <body data-header-desktop="fixed" data-header-mobile="auto">
        <script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>
        <div id="mask"></div>
        <div class="wrapper">
            <header class="desktop" id="header-desktop">
                <div class="header-wrapper">
                    <div class="header-title">
                        <a href="/dt-docs/" title="搬运工"><img class="lazyload logo" src="/dt-docs/svg/loading.min.svg" data-src="/dt-docs/favicon-32x32.png" data-srcset="/dt-docs/favicon-32x32.png, /dt-docs/favicon-32x32.png 1.5x, /dt-docs/favicon-32x32.png 2x" data-sizes="auto" alt="/dt-docs/favicon-32x32.png" title="/dt-docs/favicon-32x32.png" />搬运工</a>
                    </div>
                    <div class="menu">
                        <div class="menu-inner"><a class="menu-item" href="/dt-docs/posts/"> 文章 </a><a class="menu-item" href="/dt-docs/docs/"> 教程 </a><a class="menu-item" href="https://github.com/daoting/dt" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw' aria-hidden='true'></i>  </a><span class="menu-item delimiter"></span>
                            <span class="menu-item search" id="search-desktop">
                                <input type="text" placeholder="搜索文章标题或内容..." id="search-input-desktop">
                                <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                                    <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                                </a>
                                <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
                                    <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                                </a>
                                <span class="search-button search-loading" id="search-loading-desktop">
                                    <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                                </span>
                            </span>
                            <a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </header>
            <header class="mobile" id="header-mobile">
                <div class="header-container">
                    <div class="header-wrapper">
                        <div class="header-title">
                            <a href="/dt-docs/" title="搬运工"><img class="lazyload logo" src="/dt-docs/svg/loading.min.svg" data-src="/dt-docs/favicon-32x32.png" data-srcset="/dt-docs/favicon-32x32.png, /dt-docs/favicon-32x32.png 1.5x, /dt-docs/favicon-32x32.png 2x" data-sizes="auto" alt="/dt-docs/favicon-32x32.png" title="/dt-docs/favicon-32x32.png" />搬运工</a>
                        </div>
                        <div class="menu-toggle" id="menu-toggle-mobile">
                            <span></span><span></span><span></span>
                        </div>
                    </div>
                    <div class="menu" id="menu-mobile">
                        <div class="search-wrapper">
                            <div class="search mobile" id="search-mobile">
                                <input type="text" placeholder="搜索文章标题或内容..." id="search-input-mobile">
                                <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                                    <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                                </a>
                                <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                                    <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                                </a>
                                <span class="search-button search-loading" id="search-loading-mobile">
                                    <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                                </span>
                            </div>
                            <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                                取消
                            </a>
                        </div>
                        <a class="menu-item" href="/dt-docs/posts/" title="">文章</a>
                        <a class="menu-item" href="/dt-docs/docs/" title="">教程</a>
                        <a class="menu-item" href="https://github.com/daoting/dt" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw' aria-hidden='true'></i></a>
                        <a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                            <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                        </a>
                    </div>
                </div>
            </header>
            <div class="search-dropdown desktop">
                <div id="search-dropdown-desktop"></div>
            </div>
            <div class="search-dropdown mobile">
                <div id="search-dropdown-mobile"></div>
            </div>
            <main class="main"><div class="doc-frame">
    <aside class="doc-tree">
        <div id="content-mobile">
  <button class="fas fa-bars" type="button" onclick="var nav = document.getElementById('td-section-nav'); nav.style.display = (nav.style.display == 'block') ? 'none' : 'block' ">
  </button>
</div>
<nav class="td-sidebar-nav" id="td-section-nav">
  <ul class="td-sidebar-nav__section">
    <li>
  <a href="/dt-docs/docs/" title="概述" class="td-sidebar-link tree-root"><span>概述</span></a>
  <ul  class="ul-1" >
    <li>
  <a href="/dt-docs/docs/1%E5%BC%80%E5%A7%8B/" title="开始" class="td-sidebar-link"><span>开始</span></a>
  <ul >
    <li>
  <a href="/dt-docs/docs/1%E5%BC%80%E5%A7%8B/1%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/" title="开发环境" class="td-sidebar-link"><span>开发环境</span></a>
</li><li>
  <a href="/dt-docs/docs/1%E5%BC%80%E5%A7%8B/2%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/" title="创建空项目" class="td-sidebar-link"><span>创建空项目</span></a>
</li><li>
  <a href="/dt-docs/docs/1%E5%BC%80%E5%A7%8B/3%E5%B0%8F%E8%AF%95%E7%89%9B%E5%88%80/" title="小试牛刀" class="td-sidebar-link"><span>小试牛刀</span></a>
</li><li>
  <a href="/dt-docs/docs/1%E5%BC%80%E5%A7%8B/4%E6%90%AC%E8%BF%90%E5%B7%A5%E6%A0%B7%E4%BE%8B/" title="搬运工样例" class="td-sidebar-link"><span>搬运工样例</span></a>
</li>
  </ul>
</li><li>
  <a href="/dt-docs/docs/2%E5%9F%BA%E7%A1%80/" title="基础" class="td-sidebar-link"><span>基础</span></a>
  <ul >
    <li>
  <a href="/dt-docs/docs/2%E5%9F%BA%E7%A1%80/1%E6%80%BB%E4%BD%93%E6%9E%B6%E6%9E%84/" title="总体架构" class="td-sidebar-link"><span>总体架构</span></a>
</li><li>
  <a href="/dt-docs/docs/2%E5%9F%BA%E7%A1%80/2%E5%9F%BA%E7%A1%80%E5%8A%9F%E8%83%BD/" title="基础功能" class="td-sidebar-link"><span>基础功能</span></a>
</li><li>
  <a href="/dt-docs/docs/2%E5%9F%BA%E7%A1%80/3%E9%A2%86%E5%9F%9F%E5%B1%82/" title="领域层" class="td-sidebar-link"><span>领域层</span></a>
</li><li>
  <a href="/dt-docs/docs/2%E5%9F%BA%E7%A1%80/4%E6%9C%8D%E5%8A%A1/" title="服务" class="td-sidebar-link"><span>服务</span></a>
</li>
  </ul>
</li><li>
  <a href="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/" title="客户端" class="td-sidebar-link"><span>客户端</span></a>
  <ul >
    <li>
  <a href="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/1%E5%9F%BA%E7%A1%80/" title="基础" class="td-sidebar-link"><span>基础</span></a>
</li><li>
  <a href="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/2%E7%95%8C%E9%9D%A2%E6%A1%86%E6%9E%B6/" title="界面框架" class="td-sidebar-link"><span>界面框架</span></a>
</li><li>
  <a href="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/" title="Fv" class="td-sidebar-link active"><span>Fv</span></a>
</li><li>
  <a href="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/4lv/" title="Lv" class="td-sidebar-link"><span>Lv</span></a>
</li><li>
  <a href="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/5tab/" title="Tab" class="td-sidebar-link"><span>Tab</span></a>
</li><li>
  <a href="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/6%E5%9F%BA%E7%A1%80%E6%8E%A7%E4%BB%B6/" title="基础控件" class="td-sidebar-link"><span>基础控件</span></a>
</li>
  </ul>
</li><li>
  <a href="/dt-docs/docs/4%E5%8F%91%E5%B8%83%E9%83%A8%E7%BD%B2/" title="发布部署" class="td-sidebar-link"><span>发布部署</span></a>
  <ul >
    <li>
  <a href="/dt-docs/docs/4%E5%8F%91%E5%B8%83%E9%83%A8%E7%BD%B2/1%E6%9C%8D%E5%8A%A1/" title="服务" class="td-sidebar-link"><span>服务</span></a>
</li><li>
  <a href="/dt-docs/docs/4%E5%8F%91%E5%B8%83%E9%83%A8%E7%BD%B2/2win%E5%BA%94%E7%94%A8/" title="Win应用" class="td-sidebar-link"><span>Win应用</span></a>
</li><li>
  <a href="/dt-docs/docs/4%E5%8F%91%E5%B8%83%E9%83%A8%E7%BD%B2/3android%E5%BA%94%E7%94%A8/" title="Android应用" class="td-sidebar-link"><span>Android应用</span></a>
</li><li>
  <a href="/dt-docs/docs/4%E5%8F%91%E5%B8%83%E9%83%A8%E7%BD%B2/4ios%E5%BA%94%E7%94%A8/" title="iOS应用" class="td-sidebar-link"><span>iOS应用</span></a>
</li><li>
  <a href="/dt-docs/docs/4%E5%8F%91%E5%B8%83%E9%83%A8%E7%BD%B2/5wasm%E5%BA%94%E7%94%A8/" title="Wasm应用" class="td-sidebar-link"><span>Wasm应用</span></a>
</li>
  </ul>
</li>
  </ul>
</li>
  </ul>
</nav>


    </aside>
    <div class="doc-main">
        <div class="container">
            <article class="page single"><h1 class="single-title animate__animated animate__flipInX">Fv</h1><div class="post-meta">
                    <div class="post-meta-line">
                        <i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;约 7892 字&nbsp;
                        <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;预计阅读 16 分钟&nbsp;</div>
                </div><div class="content" id="content"><p>Fv是FormView的缩写，数据表单编辑控件，因使用频率高采用缩写作为控件名称，该控件也可当做布局控件使用。</p>
<h2 id="布局">布局</h2>
<p>为统一两模式下的布局方式，采用自定义布局面板<code>FormPanel</code>，单元格的宽度根据实际区域自动调整，在<code>296-456px</code>之间，高度按行数计算，每行高度<code>41px</code>，内容高度实际<code>40px</code>。</p>
<p>通过指定<code>RowSpan</code>来设置行数，当<code>RowSpan</code>为-1时，根据内容高度自动计算所占行数。</p>
<p>通过<code>ColSpan</code>设置单元格占用列的比例，取值范围 0~1，0表示水平填充，1表示占满整列，默认1。</p>
<p>布局算法为：</p>
<ul>
<li>根据表单实际区域大小和单元格数量决定每个单元格的位置，<strong>优先按列排</strong>；</li>
<li>当单元格的数量按照一列摆放，未排满高度的80%时，或表单总宽度无法容纳两列时(&lt;296 X 2)时，只摆放一列，phone模式基本一列；</li>
<li>能够摆放两列，按照一列摆放超过80%或无法容纳三列时，摆放两列；</li>
<li>能够摆放三列，按照两列摆放超过80%或无法容纳四列时，摆放三列；</li>
<li>暂时最多支持摆放四列。</li>
<li>当表单区域无法摆放所有单元格时，显示垂直滚动栏，始终无水平滚动。</li>
</ul>
<p>Fv可以作为普通的布局控件使用，为获得单元格样式的控制，通常将普通控件放在CFree内，达到和普通单元格相同的控制，可以设置标题、标题宽度、是否显示标题、是否显示红星、所占行数等，但内嵌的普通控件不参与数据的绑定、编辑等功能，当内嵌控件实现IFreeCell接口后，成为自定义格，作为布局控件使用时如：
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;a:Fv</span> <span class="na">x:Name=</span><span class="s">&#34;_fv&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;a:CFree</span> <span class="na">Title=</span><span class="s">&#34;文本框&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;TextBox</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/a:CFree&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;TextBox</span> <span class="na">Text=</span><span class="s">&#34;文本框&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;a:CFree</span> <span class="na">Title=</span><span class="s">&#34;自动行高&#34;</span> <span class="na">RowSpan=</span><span class="s">&#34;-1&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;TextBox</span> <span class="na">AcceptsReturn=</span><span class="s">&#34;True&#34;</span> <span class="na">MinHeight=</span><span class="s">&#34;130&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/a:CFree&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;Button</span> <span class="na">Content=</span><span class="s">&#34;&amp;#xE06E;&#34;</span> <span class="na">Style=</span><span class="s">&#34;{StaticResource 字符按钮}&#34;</span> <span class="na">HorizontalAlignment=</span><span class="s">&#34;Center&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;CheckBox</span> <span class="na">Content=</span><span class="s">&#34;选择框&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;a:CFree</span> <span class="na">Title=</span><span class="s">&#34;选择框&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;CheckBox</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/a:CFree&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;a:CBar</span> <span class="na">Title=</span><span class="s">&#34;水平填充自动行高&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/a:Fv&gt;</span></span></span></code></pre></td></tr></table>
</div>
</div></p>
<h2 id="数据源">数据源</h2>
<p>数据源可以为<code>Row</code>或<code>普通对象</code>，<code>Row</code>时将<code>Cell</code>值绑定到单元格，普通对象时将属性绑定到单元格，支持多级属性，根据属性是否可写控制单元格是否可编辑，因此<code>Fv</code>还可作为属性编辑器独立使用。针对不同的数据类型内部提供多种通用格，实现数据编辑。</p>
<p>通过<code>Fv.Data</code>设置数据源，根据单元格<code>ID</code>将对应的数据项绑定到单元格，编辑后新值再同步到数据源，完成数据修改功能。</p>
<p><code>Fv</code>支持根据数据源自动生成单元格的功能，通过<code>Fv.AutoCreateCell</code>控制，内部根据数据项的数据类型生成对应格，外部无法动态指定，使用场景较少。</p>
<p>在切换数据源时，<code>Fv</code>只处理含<code>ID</code>的单元格，其它单元格怕有影响未设置<code>DataContext</code>！</p>
<p>上级元素或当前元素设置<code>DataContext</code>时，所有绑定中未指明数据源的都使用继承的<code>DataContext</code>，当绑定模式为<code>TwoWay</code>或<code>OneWay</code>时，<code>DataContext</code>必须实现<code>INotifyPropertyChanged</code>接口才能将修改值传递到绑定的<code>UI</code>，<code>DataContext</code>继承<code>DependencyObject</code>的依赖属性也无效，但直接在绑定中指定数据源时依赖属性有效！</p>
<p>数据源为<code>null</code>时，隐藏所有含<code>ID</code>的单元格编辑器，避免误操作。</p>
<p>数据源为普通对象时，已实现和<code>Row</code>相同的功能，包括<code>Fv.Changed</code>事件、<code>FvCell.Changed</code>事件、淡黄色修改状态样式、支持撤销等功能，对普通对象没有特殊要求，内部采用包装方式进行功能扩展(<code>ObjectView PropertyView</code>)。</p>
<p>列值变化事件<code>Fv.Changed</code>，使用场景较少，<code>Row</code>的所有列值变化都触发，不只是<code>FvCell</code>绑定的列，普通对象只有UI对应的属性变化时触发。</p>
<p>数据源列值的初始值，主要有以下几种情况：</p>
<ul>
<li>普通默认值</li>
<li>获取服务端的序列值</li>
<li>CList格自动取第一行</li>
<li>内置表达式</li>
<li>单元格cookie值等</li>
</ul>
<h2 id="格">格</h2>
<p>格是表单编辑的最小单位，负责数据的显示、交互编辑、新值同步到数据源等功能，格之间可能存在联动关系，内部提供多种格：普通文本格、数值格、掩码格、布尔格、列表格、时间格、图标选择格、颜色选择格、文件格、图像格、自定义格等，还包括分割栏、链接格等无编辑功能的格，每种类型的格有自己的行为控制，实现常见的编辑功能。</p>
<p>格的基类为<code>FvCell</code>，实现公共样式和功能，常用属性如下：
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">partial</span> <span class="k">class</span> <span class="nc">FvCell</span> <span class="p">:</span> <span class="n">DtControl</span><span class="p">,</span> <span class="n">IFvCell</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// 获取设置列名(字段名或属性名)</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="kt">string</span> <span class="n">ID</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// 获取设置列标题</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="kt">string</span> <span class="n">Title</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// 获取设置列名的宽度</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="kt">double</span> <span class="n">TitleWidth</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// 获取设置是否显示标题列</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="kt">bool</span> <span class="n">ShowTitle</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// 获取设置自定义取值赋值过程的类名</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="kt">string</span> <span class="n">Call</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// 获取设置是否垂直显示标题</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="kt">bool</span> <span class="n">IsVerticalTitle</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// 获取设置占用的行数，默认1行，-1时自动行高</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="kt">int</span> <span class="n">RowSpan</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// 获取设置单元格占用列的比例，取值范围 0~1，0表示水平填充，1表示占满整列，默认1</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="kt">double</span> <span class="n">ColSpan</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// 获取设置列是否只读，最终是否只读由ReadOnlyBinding确定！</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="kt">bool</span> <span class="n">IsReadOnly</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// 获取设置是否自动保存单元格最后一次编辑值，默认False</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="kt">bool</span> <span class="n">AutoCookie</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// 获取设置占位符文本</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="kt">string</span> <span class="n">Placeholder</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// 获取设置查询时对条件比较符控制：无比较符、可修改比较符、比较符只读</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">QueryType</span> <span class="n">Query</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// 获取设置查询时的条件比较符</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="n">CompFlag</span> <span class="n">QueryFlag</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div></p>
<p>其中<code>Call</code>属性是自定义取值赋值过程的类名，相当于数据源和格之间绑定的转换器，这部分转换也可以放在数据源中统一处理，该类的定义过程如下：
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="hl"><span class="lnt"> 1
</span></span><span class="hl"><span class="lnt"> 2
</span></span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line hl"><span class="cl"><span class="na">[FvCall]</span>
</span></span><span class="line hl"><span class="cl"><span class="k">public</span> <span class="k">class</span> <span class="nc">TenTimesMid</span> <span class="p">:</span> <span class="n">IFvCall</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="kt">object</span> <span class="n">Get</span><span class="p">(</span><span class="n">Mid</span> <span class="n">m</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">m</span><span class="p">.</span><span class="n">Int</span> <span class="p">/</span> <span class="m">100</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="kt">object</span> <span class="n">Set</span><span class="p">(</span><span class="n">Mid</span> <span class="n">m</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">m</span><span class="p">.</span><span class="n">Int</span> <span class="p">*</span> <span class="m">100</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div></p>
<h3 id="cbar">CBar</h3>
<p>CBar是单元格分隔行，主要为单元格分组，使界面功能更清晰，无编辑功能，提供默认样式：
<img class="lazyload" src="/dt-docs/svg/loading.min.svg" data-src="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/1.png" data-srcset="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/1.png, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/1.png 1.5x, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/1.png 2x" data-sizes="auto" alt="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/1.png" title="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/1.png" width="326" height="53" /></p>
<p>xaml定义如：
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;a:CBar</span> <span class="na">Title=</span><span class="s">&#34;基本格&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">&lt;a:CBar&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;StackPanel</span> <span class="na">Orientation=</span><span class="s">&#34;Horizontal&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;Button</span> <span class="na">Content=</span><span class="s">&#34;切换第一格内容&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;Button</span> <span class="na">Content=</span><span class="s">&#34;切换CBar内容&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/StackPanel&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/a:CBar&gt;</span></span></span></code></pre></td></tr></table>
</div>
</div></p>
<h3 id="clink">CLink</h3>
<p>链接格，功能和按钮相同，触发<code>Click</code>事件，无编辑功能，内容样式采用手机App常用样式，继承自<code>CBar</code>，使用方法和<code>CBar</code>相同。默认样式：</p>
<p><img class="lazyload" src="/dt-docs/svg/loading.min.svg" data-src="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/2.png" data-srcset="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/2.png, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/2.png 1.5x, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/2.png 2x" data-sizes="auto" alt="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/2.png" title="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/2.png" width="405" height="299" /></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;a:CLink</span> <span class="na">Title=</span><span class="s">&#34;默认链接格&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">&lt;a:CLink</span> <span class="na">Title=</span><span class="s">&#34;切换内容&#34;</span> <span class="na">ColSpan=</span><span class="s">&#34;1&#34;</span> <span class="na">Click=</span><span class="s">&#34;OnToggleLink&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">&lt;a:CLink</span> <span class="na">Click=</span><span class="s">&#34;OnEditInfo&#34;</span> <span class="na">RowSpan=</span><span class="s">&#34;2&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;Grid&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;Grid.ColumnDefinitions&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;ColumnDefinition</span> <span class="na">Width=</span><span class="s">&#34;Auto&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;ColumnDefinition</span> <span class="na">Width=</span><span class="s">&#34;*&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;ColumnDefinition</span> <span class="na">Width=</span><span class="s">&#34;Auto&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/Grid.ColumnDefinitions&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;Image</span> <span class="na">x:Name=</span><span class="s">&#34;_img&#34;</span> <span class="na">Width=</span><span class="s">&#34;50&#34;</span> <span class="na">Height=</span><span class="s">&#34;50&#34;</span> <span class="na">Margin=</span><span class="s">&#34;0,0,20,0&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;StackPanel</span> <span class="na">VerticalAlignment=</span><span class="s">&#34;Center&#34;</span> <span class="na">Grid.Column=</span><span class="s">&#34;1&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;TextBlock</span> <span class="na">x:Name=</span><span class="s">&#34;_tbName&#34;</span> <span class="na">FontSize=</span><span class="s">&#34;{StaticResource 标题字}&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;TextBlock</span> <span class="na">x:Name=</span><span class="s">&#34;_tbPhone&#34;</span> <span class="na">Foreground=</span><span class="s">&#34;{StaticResource 深灰2}&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/StackPanel&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;TextBlock</span> <span class="na">Text=</span><span class="s">&#34;编辑&#34;</span> <span class="na">Foreground=</span><span class="s">&#34;{StaticResource 深灰2}&#34;</span> <span class="na">VerticalAlignment=</span><span class="s">&#34;Center&#34;</span> <span class="na">Grid.Column=</span><span class="s">&#34;2&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/Grid&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/a:CLink&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;a:CBar</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;a:CLink</span> <span class="na">Title=</span><span class="s">&#34;我的二维码&#34;</span> <span class="nt">/&gt;</span></span></span></code></pre></td></tr></table>
</div>
</div>
<h3 id="cfree">CFree</h3>
<p>自定义格，可以自定义编辑器，当向<code>Fv.Items</code>添加普通UI时，这些UI会用<code>CFree</code>包裹，如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;a:CFree</span> <span class="na">Title=</span><span class="s">&#34;文本框&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;TextBox</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/a:CFree&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;TextBox</span> <span class="na">Text=</span><span class="s">&#34;文本框&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;a:CFree</span> <span class="na">Title=</span><span class="s">&#34;自动行高&#34;</span> <span class="na">RowSpan=</span><span class="s">&#34;-1&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;TextBox</span> <span class="na">AcceptsReturn=</span><span class="s">&#34;True&#34;</span> <span class="na">MinHeight=</span><span class="s">&#34;130&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/a:CFree&gt;</span></span></span></code></pre></td></tr></table>
</div>
</div>
<h3 id="ctext">CText</h3>
<p>普通文本格，文本框功能，使用频率最高，属性：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置是否允许多行显示，默认false</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">bool</span> <span class="n">AcceptsReturn</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置可在文本框中键入或粘贴的最大字符数，默认0无限制</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">int</span> <span class="n">MaxLength</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置是否实时更新值，默认true实时更新</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">bool</span> <span class="n">UpdateTimely</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置输入法，输入法始终不可为null，不然uno中文本框右侧的清空按钮失效！！！</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="n">InputScope</span> <span class="n">InputScope</span></span></span></code></pre></td></tr></table>
</div>
</div>
<p><img class="lazyload" src="/dt-docs/svg/loading.min.svg" data-src="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/3.png" data-srcset="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/3.png, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/3.png 1.5x, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/3.png 2x" data-sizes="auto" alt="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/3.png" title="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/3.png" width="754" height="81" /></p>
<h3 id="cnum">CNum</h3>
<p>数值格，可在样例中动态调整各属性测试功能，属性：
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置当前值</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">double</span> <span class="n">Value</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置是否为整型数值</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">bool</span> <span class="n">IsInteger</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置小数位数</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">int</span> <span class="n">Decimals</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置最大值</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">double</span> <span class="n">Maximum</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置最小值</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">double</span> <span class="n">Minimum</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置格式化显示</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="n">ValueFormat</span> <span class="n">ValueFormat</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置是否实时更新Cell值</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">bool</span> <span class="n">UpdateTimely</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置自定义单位，显示在数字后面</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">string</span> <span class="n">CustomUnit</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置为空时显示的字符串</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">string</span> <span class="n">NullValue</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置最大变化量</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">double</span> <span class="n">LargeChange</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置最小变化量</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">double</span> <span class="n">SmallChange</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置是否可自动循环调值</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">bool</span> <span class="n">AutoReverse</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置区域格式</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="n">NumberFormatInfo</span> <span class="n">NumberFormatInfo</span></span></span></code></pre></td></tr></table>
</div>
</div></p>
<h3 id="cmask">CMask</h3>
<p>掩码格，支持原有PC版的所有掩码功能，可在样例中动态调整各属性测试功能，属性：
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 掩码类型</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="n">MaskType</span> <span class="n">MaskType</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 掩码表达式</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">string</span> <span class="n">Mask</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 是否显示掩码占位符，RegEx有效</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">bool</span> <span class="n">ShowPlaceHolder</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 掩码占位符，RegEx有效</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">char</span> <span class="n">PlaceHolder</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 是否保存为转换后的结果，Simple、Regular有效</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">bool</span> <span class="n">SaveLiteral</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 自动完成方式，RegEx有效</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="n">AutoCompleteType</span> <span class="n">AutoComplete</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 是否按掩码格式化显示</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">bool</span> <span class="n">UseAsDisplayFormat</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 输入是否可为空</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">bool</span> <span class="n">AllowNullInput</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 忽略空格</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">bool</span> <span class="n">IgnoreBlank</span></span></span></code></pre></td></tr></table>
</div>
</div></p>
<h3 id="cdate">CDate</h3>
<p>日期时间格，提供两种模式的选择器，触摸模式选择器支持点击日期时选择日期和点击时间时选择时间，属性：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置格式串，默认 yyyy-MM-dd，完整如：yyyy-MM-dd HH:mm:ss</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">string</span> <span class="n">Format</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置是否始终为触摸模式选择器，默认 false</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">bool</span> <span class="n">AlwaysTouchPicker</span></span></span></code></pre></td></tr></table>
</div>
</div>
<p><img class="lazyload" src="/dt-docs/svg/loading.min.svg" data-src="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/4.png" data-srcset="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/4.png, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/4.png 1.5x, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/4.png 2x" data-sizes="auto" alt="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/4.png" title="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/4.png" width="623" height="446" />
<img class="lazyload" src="/dt-docs/svg/loading.min.svg" data-src="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/5.png" data-srcset="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/5.png, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/5.png 1.5x, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/5.png 2x" data-sizes="auto" alt="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/5.png" title="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/5.png" width="617" height="399" /></p>
<h3 id="cbool">CBool</h3>
<p>布尔格，提供选择框和开关两种显示控件，属性：
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置是否显示为开关，默认false为选择框</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">bool</span> <span class="n">IsSwitch</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置True时的值</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">object</span> <span class="n">TrueVal</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置False时的值</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">object</span> <span class="n">FalseVal</span></span></span></code></pre></td></tr></table>
</div>
</div></p>
<p><img class="lazyload" src="/dt-docs/svg/loading.min.svg" data-src="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/6.png" data-srcset="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/6.png, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/6.png 1.5x, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/6.png 2x" data-sizes="auto" alt="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/6.png" title="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/6.png" width="772" height="94" /></p>
<h3 id="clist">CList</h3>
<p>列表选择格，该格使用场景较多，列表数据源复杂，支持单选、多选，支持选择后同步填充多列值功能，总体数据绑定关系为：</p>
<p><img class="lazyload" src="/dt-docs/svg/loading.min.svg" data-src="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/7.png" data-srcset="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/7.png, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/7.png 1.5x, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/7.png 2x" data-sizes="auto" alt="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/7.png" title="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/7.png" width="770" height="173" /></p>
<p>选择列表由<code>ListDlg</code>显示，该对话框主要包含<code>Lv</code>控件，<code>Lv</code>数据源来自于<code>CList</code>属性设置，数据源种类有多种，具有不同优先级：</p>
<ol>
<li>直接设置<code>Data</code>属性</li>
<li>通过LoadData事件加载数据
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="n">a</span><span class="p">:</span><span class="n">CList</span> <span class="n">ID</span><span class="p">=</span><span class="s">&#34;listobj&#34;</span> <span class="n">Title</span><span class="p">=</span><span class="s">&#34;对象列表&#34;</span> <span class="n">LoadData</span><span class="p">=</span><span class="s">&#34;OnLoadPersons&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">void</span> <span class="n">OnLoadPersons</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">AsyncEventArgs</span> <span class="n">e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">((</span><span class="n">CList</span><span class="p">)</span><span class="n">sender</span><span class="p">).</span><span class="n">Data</span> <span class="p">=</span> <span class="n">SampleData</span><span class="p">.</span><span class="n">CreatePersonsList</span><span class="p">(</span><span class="m">20</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>设置<code>Ex</code>属性，该属性是<code>类名#参数</code>的字符串，类需要继承自<code>CListEx</code>，重写方法可控制下拉对话框和数据源。以下是<code>Ex</code>属性、<code>CListEx</code>定义、<code>EnumData</code>和<code>Option</code>扩展的例子：
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置扩展CList功能的类名和参数，用于控制下拉对话框和数据源，类名和参数之间用#隔开，如：</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;para&gt;EnumData#Dt.Base.DlgPlacement,Dt.Base&lt;/para&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;para&gt;Option#民族&lt;/para&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">string</span> <span class="n">Ex</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// CList功能扩展基类</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="k">abstract</span> <span class="k">class</span> <span class="nc">CListEx</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">protected</span> <span class="n">CList</span> <span class="n">_owner</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">protected</span> <span class="n">ListDlg</span> <span class="n">_dlg</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">protected</span> <span class="kt">string</span> <span class="n">_params</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="k">void</span> <span class="n">Init</span><span class="p">(</span><span class="n">CList</span> <span class="n">p_owner</span><span class="p">,</span> <span class="n">ListDlg</span> <span class="n">p_dlg</span><span class="p">,</span> <span class="kt">string</span> <span class="n">p_params</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">_owner</span> <span class="p">=</span> <span class="n">p_owner</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">_dlg</span> <span class="p">=</span> <span class="n">p_dlg</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">_params</span> <span class="p">=</span> <span class="n">p_params</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">OnInit</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">protected</span> <span class="k">virtual</span> <span class="k">void</span> <span class="n">OnInit</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="k">abstract</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">INotifyList</span><span class="p">&gt;</span> <span class="n">GetData</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 枚举类型作为下拉框数据源</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="na">[CListEx]</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="k">class</span> <span class="nc">EnumData</span> <span class="p">:</span> <span class="n">CListEx</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// 格式：枚举名(包含命名空间),程序集；如：</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;para&gt;Dt.Base.CtType,Dt.Base&lt;/para&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;returns&gt;&lt;/returns&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;exception cref=&#34;Exception&#34;&gt;&lt;/exception&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="k">override</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">INotifyList</span><span class="p">&gt;</span> <span class="n">GetData</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 枚举数据</span>
</span></span><span class="line"><span class="cl">        <span class="n">Type</span> <span class="n">type</span> <span class="p">=</span> <span class="n">Type</span><span class="p">.</span><span class="n">GetType</span><span class="p">(</span><span class="n">_params</span><span class="p">,</span> <span class="k">true</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">data</span> <span class="p">=</span> <span class="p">(</span><span class="n">INotifyList</span><span class="p">)</span><span class="n">_dlg</span><span class="p">.</span><span class="n">CreateEnumData</span><span class="p">(</span><span class="n">type</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">Task</span><span class="p">.</span><span class="n">FromResult</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 模型库的OmOption作为下拉框数据源</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="na">[CListEx]</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="k">class</span> <span class="nc">Option</span> <span class="p">:</span> <span class="n">CListEx</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// 格式：枚举名(包含命名空间),程序集；如：</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;para&gt;Dt.Base.CtType,Dt.Base&lt;/para&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;returns&gt;&lt;/returns&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;exception cref=&#34;Exception&#34;&gt;&lt;/exception&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="k">override</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">INotifyList</span><span class="p">&gt;</span> <span class="n">GetData</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="k">await</span> <span class="n">AtModel</span><span class="p">.</span><span class="n">Query</span><span class="p">(</span><span class="s">$&#34;select name from OmOption where Category=\&#34;</span><span class="p">{</span><span class="n">_params</span><span class="p">}</span><span class="err">\</span><span class="s">&#34;&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>格的数据源类型为枚举时，自动生成Enum数据</li>
<li>外部(xaml中)定义的对象列表
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;a:CList</span> <span class="na">ID=</span><span class="s">&#34;liststr&#34;</span> <span class="na">Title=</span><span class="s">&#34;字符串列表&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;a:CList.Items&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;x:String&gt;</span>选项一<span class="nt">&lt;/x:String&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;x:String&gt;</span>选项二<span class="nt">&lt;/x:String&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;x:String&gt;</span>选项三<span class="nt">&lt;/x:String&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;x:String&gt;</span>选项四<span class="nt">&lt;/x:String&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;x:String&gt;</span>选项五<span class="nt">&lt;/x:String&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;x:String&gt;</span>选项六<span class="nt">&lt;/x:String&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/a:CList.Items&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/a:CList&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;a:CList</span> <span class="na">ID=</span><span class="s">&#34;listint&#34;</span> <span class="na">Title=</span><span class="s">&#34;整数列表&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;a:CList.Items&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;x:Int32&gt;</span>1<span class="nt">&lt;/x:Int32&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;x:Int32&gt;</span>2<span class="nt">&lt;/x:Int32&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;x:Int32&gt;</span>3<span class="nt">&lt;/x:Int32&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/a:CList.Items&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/a:CList&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;a:CList</span> <span class="na">ID=</span><span class="s">&#34;idstrdsp&#34;</span> <span class="na">Title=</span><span class="s">&#34;IDStr&#34;</span> <span class="na">SrcID=</span><span class="s">&#34;id&#34;</span> <span class="na">TgtID=</span><span class="s">&#34;idstr&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;a:CList.Items&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;a:IDStr</span> <span class="na">ID=</span><span class="s">&#34;0&#34;</span> <span class="na">Str=</span><span class="s">&#34;选项一&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;a:IDStr</span> <span class="na">ID=</span><span class="s">&#34;1&#34;</span> <span class="na">Str=</span><span class="s">&#34;选项二&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;a:IDStr</span> <span class="na">ID=</span><span class="s">&#34;2&#34;</span> <span class="na">Str=</span><span class="s">&#34;选项三&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/a:CList.Items&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/a:CList&gt;</span></span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<div class="details admonition note open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-pencil-alt fa-fw" aria-hidden="true"></i>注意<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>数据源为Table时，确保存在name列；</p>
<p>为普通对象时，直接将对象赋值！</p>
</div>
        </div>
    </div>
<p>选择后需要同步填充多列时需要设置以下两属性，确保源和目标的属性个数相同：
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置源属性列表，用&#39;#&#39;隔开</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">string</span> <span class="n">SrcID</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置目标属性列表，用&#39;#&#39;隔开</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">string</span> <span class="n">TgtID</span></span></span></code></pre></td></tr></table>
</div>
</div></p>
<p>该功能可实现IDString效果，当在xaml中直接设置数据源时可以使用IDStr，如：
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;a:CList</span> <span class="na">ID=</span><span class="s">&#34;idstrdsp&#34;</span> <span class="na">Title=</span><span class="s">&#34;IDStr&#34;</span> <span class="na">SrcID=</span><span class="s">&#34;id&#34;</span> <span class="na">TgtID=</span><span class="s">&#34;idstr&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;a:CList.Items&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;a:IDStr</span> <span class="na">ID=</span><span class="s">&#34;0&#34;</span> <span class="na">Str=</span><span class="s">&#34;选项一&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;a:IDStr</span> <span class="na">ID=</span><span class="s">&#34;1&#34;</span> <span class="na">Str=</span><span class="s">&#34;选项二&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;a:IDStr</span> <span class="na">ID=</span><span class="s">&#34;2&#34;</span> <span class="na">Str=</span><span class="s">&#34;选项三&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/a:CList.Items&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/a:CList&gt;</span></span></span></code></pre></td></tr></table>
</div>
</div></p>
<p>每次选择显示<code>ListDlg</code>时都刷新选择列表时可以设置属性：
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置是否动态加载数据源，默认false</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// true表示每次显示对话框时都加载数据源，false表示只第一次加载</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">bool</span> <span class="n">RefreshData</span></span></span></code></pre></td></tr></table>
</div>
</div></p>
<p>格的数据源类型为枚举时，系统自动生成Enum数据，推荐方案如：</p>
<p>在表结构中定义<code>enum</code>类型字段：</p>
<p><img class="lazyload" src="/dt-docs/svg/loading.min.svg" data-src="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/8.png" data-srcset="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/8.png, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/8.png 1.5x, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/8.png 2x" data-sizes="auto" alt="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/8.png" title="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/8.png" width="783" height="343" />
<div class="details admonition note open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-pencil-alt fa-fw" aria-hidden="true"></i>注意<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>mysql中<code>tinyint(1)</code>对应C#的<code>bool</code>，无符号的<code>tinyint(4)</code>对应<code>byte</code>，有符号<code>tinyint(4)</code>对应<code>SByte</code>(使用场景少)。</p>
<p>为了编码、查询、显示方便，特殊处理了<code>enum</code>类型的情况，将无符号<code>tinyint(4)</code>设计为<code>enum</code>类型，最多能存储256个成员在程序中已够用，生成实体类时支持自动将<code>#EnumName#</code>开始的注释当作枚举类型，增加方便性和代码的可读性。</p>
</div>
        </div>
    </div></p>
<p>在程序中定义<code>enum</code>类型：
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="k">public</span> <span class="k">enum</span> <span class="n">WfdAtvTransKind</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// 自由选择后续迁移</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">自由选择</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// 活动的所有后续迁移都执行</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">全部</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// 只允许选择一条后续迁移</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">独占式选择</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div></p>
<p>xaml中CList不需要任何设置，因单元格数据源类型是enum，自动生成下拉列表内容：
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;a:CList</span> <span class="na">ID=</span><span class="s">&#34;transkind&#34;</span> <span class="na">Title=</span><span class="s">&#34;后续迁移方式&#34;</span> <span class="nt">/&gt;</span></span></span></code></pre></td></tr></table>
</div>
</div></p>
<p>运行时：</p>
<p><img class="lazyload" src="/dt-docs/svg/loading.min.svg" data-src="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/9.png" data-srcset="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/9.png, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/9.png 1.5x, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/9.png 2x" data-sizes="auto" alt="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/9.png" title="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/9.png" width="397" height="223" /></p>
<h3 id="cfile">CFile</h3>
<p>文件格的控件模板未使用公共的<code>CellPanel</code>，采用完全自定义方式：</p>
<p><img class="lazyload" src="/dt-docs/svg/loading.min.svg" data-src="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/10.png" data-srcset="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/10.png, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/10.png 1.5x, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/10.png 2x" data-sizes="auto" alt="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/10.png" title="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/10.png" width="369" height="208" /></p>
<p>文件格默认为自动行高(RowSpan = -1)，避免出现局部区域的滚动栏，所占区域会根据文件列表个数自动调整，为使Fv整体布局统一，普通文件和图片文件默认高度82，占两行，视频文件占5行。</p>
<p>模板第一行为标题栏，左侧标题，右侧工具栏，第二行为FileList。</p>
<p><code>FileList.Data</code>与格的<code>Value</code>绑定，<code>FileList</code>的上传下载删除等操作会触发<code>CFile.Changed</code>事件，因此可以通过<code>Changed</code>事件在操作后自动保存。</p>
<p>文件格提供默认的工具栏内容（只有一个添加按钮），当需要上传拍照或录视频等其他功能时可自定义工具栏，工具栏的<code>DataContext</code>为当前的<code>FileList</code>，因此按钮可将<code>Command</code>绑定到<code>FileList</code>命令上。
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;a:CFile</span> <span class="na">ID=</span><span class="s">&#34;file2&#34;</span> <span class="na">Title=</span><span class="s">&#34;多文件&#34;</span> <span class="na">Changed=</span><span class="s">&#34;OnChanged&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;a:CFile.Toolbar&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;StackPanel</span> <span class="na">Orientation=</span><span class="s">&#34;Horizontal&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;Button</span> <span class="na">Content=</span><span class="s">&#34;图片&#34;</span> <span class="na">Command=</span><span class="s">&#34;{Binding CmdAddImage}&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;Button</span> <span class="na">Content=</span><span class="s">&#34;视频&#34;</span> <span class="na">Command=</span><span class="s">&#34;{Binding CmdAddVideo}&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;Button</span> <span class="na">Content=</span><span class="s">&#34;音频&#34;</span> <span class="na">Command=</span><span class="s">&#34;{Binding CmdAddAudio}&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;Button</span> <span class="na">Content=</span><span class="s">&#34;录音&#34;</span> <span class="na">Command=</span><span class="s">&#34;{Binding CmdCaptureVoice}&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;Button</span> <span class="na">Content=</span><span class="s">&#34;拍照&#34;</span> <span class="na">Command=</span><span class="s">&#34;{Binding CmdTakePhoto}&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;Button</span> <span class="na">Content=</span><span class="s">&#34;录像&#34;</span> <span class="na">Command=</span><span class="s">&#34;{Binding CmdRecordVideo}&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/StackPanel&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/a:CFile.Toolbar&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;a:Ex.Menu&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;a:Menu&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;a:Mi</span> <span class="na">ID=</span><span class="s">&#34;下载&#34;</span> <span class="na">Icon=</span><span class="s">&#34;向下&#34;</span> <span class="na">Cmd=</span><span class="s">&#34;{Binding CmdDownload}&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;a:Mi</span> <span class="na">ID=</span><span class="s">&#34;打开&#34;</span> <span class="na">Icon=</span><span class="s">&#34;打开&#34;</span> <span class="na">Cmd=</span><span class="s">&#34;{Binding CmdOpen}&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/a:Menu&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/a:Ex.Menu&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/a:CFile&gt;</span></span></span></code></pre></td></tr></table>
</div>
</div>
<img class="lazyload" src="/dt-docs/svg/loading.min.svg" data-src="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/11.png" data-srcset="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/11.png, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/11.png 1.5x, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/11.png 2x" data-sizes="auto" alt="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/11.png" title="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/11.png" width="459" height="210" /></p>
<p>文件格提供默认上下文菜单，也可以自定义菜单，如上图采用扩展依赖项属性<code>Ex.Menu</code>，菜单的<code>DataContext</code>为当前所属的<code>FileItem</code>，因此也可将<code>Mi</code>的<code>Cmd</code>绑定到<code>FileItem</code>命令上。默认菜单如下：</p>
<p><img class="lazyload" src="/dt-docs/svg/loading.min.svg" data-src="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/12.png" data-srcset="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/12.png, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/12.png 1.5x, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/12.png 2x" data-sizes="auto" alt="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/12.png" title="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/12.png" width="165" height="168" /></p>
<p>文件格中用于控制<code>FileList</code>的属性采用包裹方式直接设置到<code>FileList</code>，如下：
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置列数，默认1列</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">int</span> <span class="n">ColCount</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置文件项之间的间隔距离，默认0</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">double</span> <span class="n">Spacing</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置图像的显示高度，默认82，0表示和宽度相同</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">double</span> <span class="n">ImageHeight</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">///  获取设置图像填充模式，默认Uniform</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="n">Stretch</span> <span class="n">ImageStretch</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置文件项是否可点击，默认true</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">bool</span> <span class="n">EnableClick</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置文件数量上限，默认int.MaxValue</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">int</span> <span class="n">MaxFileCount</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置要上传的固定卷名，默认null表示上传到普通卷</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">string</span> <span class="n">FixedVolume</span></span></span></code></pre></td></tr></table>
</div>
</div></p>
<p>工具栏菜单相关的属性：
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置工具栏内容</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="n">FrameworkElement</span> <span class="n">Toolbar</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置是否显示默认工具栏，默认true</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">bool</span> <span class="n">ShowDefaultToolbar</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置是否显示默认菜单，默认true</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">bool</span> <span class="n">ShowDefaultMenu</span></span></span></code></pre></td></tr></table>
</div>
</div></p>
<h3 id="cimage">CImage</h3>
<p>图像格是只有一个图像的文件格，内部也使用<code>FileList</code>、自动行高、提供默认上下文菜单，不同的是它采用<code>CellPanel</code>布局、无工具栏。
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;a:CImage</span> <span class="na">ID=</span><span class="s">&#34;img1&#34;</span> <span class="na">Title=</span><span class="s">&#34;图像&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;a:CImage</span> <span class="na">ID=</span><span class="s">&#34;img2&#34;</span> <span class="na">Title=</span><span class="s">&#34;无图像&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;a:CImage</span> <span class="na">ID=</span><span class="s">&#34;img3&#34;</span> <span class="na">Title=</span><span class="s">&#34;自定义菜单&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;a:Ex.Menu&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;a:Menu&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;a:Mi</span> <span class="na">ID=</span><span class="s">&#34;下载&#34;</span> <span class="na">Icon=</span><span class="s">&#34;向下&#34;</span> <span class="na">Cmd=</span><span class="s">&#34;{Binding CmdDownload}&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;a:Mi</span> <span class="na">ID=</span><span class="s">&#34;打开&#34;</span> <span class="na">Icon=</span><span class="s">&#34;打开&#34;</span> <span class="na">Cmd=</span><span class="s">&#34;{Binding CmdOpen}&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/a:Menu&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/a:Ex.Menu&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/a:CImage&gt;</span></span></span></code></pre></td></tr></table>
</div>
</div></p>
<p><img class="lazyload" src="/dt-docs/svg/loading.min.svg" data-src="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/13.png" data-srcset="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/13.png, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/13.png 1.5x, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/13.png 2x" data-sizes="auto" alt="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/13.png" title="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/13.png" width="1129" height="228" /></p>
<p>Phone模式：</p>
<p><img class="lazyload" src="/dt-docs/svg/loading.min.svg" data-src="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/14.png" data-srcset="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/14.png, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/14.png 1.5x, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/14.png 2x" data-sizes="auto" alt="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/14.png" title="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/14.png" width="460" height="247" /></p>
<h3 id="cicon">CIcon</h3>
<p>图标选择格，内部未使用绑定，采用直接取值/赋值的方式，图标列表使用<code>Icons</code>枚举，对应内部自定义的矢量字体库。
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;a:CIcon</span> <span class="na">ID=</span><span class="s">&#34;icon&#34;</span> <span class="na">Title=</span><span class="s">&#34;枚举图标&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;a:CIcon</span> <span class="na">ID=</span><span class="s">&#34;iconint&#34;</span> <span class="na">Title=</span><span class="s">&#34;整数图标&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;a:CIcon</span> <span class="na">ID=</span><span class="s">&#34;iconstr&#34;</span> <span class="na">Title=</span><span class="s">&#34;名称图标&#34;</span><span class="nt">/&gt;</span></span></span></code></pre></td></tr></table>
</div>
</div>
<img class="lazyload" src="/dt-docs/svg/loading.min.svg" data-src="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/15.png" data-srcset="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/15.png, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/15.png 1.5x, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/15.png 2x" data-sizes="auto" alt="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/15.png" title="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/15.png" width="773" height="85" /></p>
<h3 id="ccolor">CColor</h3>
<p>颜色选择格，内部未使用绑定，采用直接取值/赋值的方式，选择列表使用<code>Colors</code>枚举，暂未提供自定义功能。
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;a:CColor</span> <span class="na">ID=</span><span class="s">&#34;color&#34;</span> <span class="na">Title=</span><span class="s">&#34;颜色&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;a:CColor</span> <span class="na">ID=</span><span class="s">&#34;colorstr&#34;</span> <span class="na">Title=</span><span class="s">&#34;颜色字符串&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;a:CColor</span> <span class="na">ID=</span><span class="s">&#34;colorbrush&#34;</span> <span class="na">Title=</span><span class="s">&#34;颜色画刷&#34;</span><span class="nt">/&gt;</span></span></span></code></pre></td></tr></table>
</div>
</div>
<img class="lazyload" src="/dt-docs/svg/loading.min.svg" data-src="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/16.png" data-srcset="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/16.png, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/16.png 1.5x, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/16.png 2x" data-sizes="auto" alt="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/16.png" title="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/16.png" width="766" height="54" /></p>
<h3 id="ctree">CTree</h3>
<p>树形选择格，使用上和<code>CList</code>相似，有两种方式设置<code>Tv</code>数据源：</p>
<ul>
<li>一种直接设置<code>Data</code>属性</li>
<li>另一种通过LoadData事件动态加载</li>
</ul>
<p>支持单选、多选，支持选择后同步填充多列值功能，支持动态加载树数据源。</p>
<p><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;a:CTree</span> <span class="na">ID=</span><span class="s">&#34;tree&#34;</span> <span class="na">Title=</span><span class="s">&#34;普通树&#34;</span> <span class="na">LoadData=</span><span class="s">&#34;OnLoadTreeData&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;a:CTree</span> <span class="na">ID=</span><span class="s">&#34;treedata&#34;</span> <span class="na">Title=</span><span class="s">&#34;动态树&#34;</span> <span class="na">RefreshData=</span><span class="s">&#34;true&#34;</span> <span class="na">LoadData=</span><span class="s">&#34;OnLoadTreeData&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;a:CTree</span> <span class="na">ID=</span><span class="s">&#34;treefill&#34;</span> <span class="na">Title=</span><span class="s">&#34;填充其它列值&#34;</span> <span class="na">SrcID=</span><span class="s">&#34;id&#34;</span> <span class="na">TgtID=</span><span class="s">&#34;treefillid&#34;</span> <span class="na">LoadData=</span><span class="s">&#34;OnLoadTreeData&#34;</span> <span class="nt">/&gt;</span></span></span></code></pre></td></tr></table>
</div>
</div>
<img class="lazyload" src="/dt-docs/svg/loading.min.svg" data-src="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/17.png" data-srcset="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/17.png, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/17.png 1.5x, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/17.png 2x" data-sizes="auto" alt="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/17.png" title="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/17.png" width="626" height="585" /></p>
<h3 id="cpassword">CPassword</h3>
<p>密码格，属性：
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cs" data-lang="cs"><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置占位符</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">string</span> <span class="n">Holder</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// 获取设置最大字符数</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span> <span class="kt">int</span> <span class="n">MaxLength</span></span></span></code></pre></td></tr></table>
</div>
</div>
<img class="lazyload" src="/dt-docs/svg/loading.min.svg" data-src="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/18.png" data-srcset="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/18.png, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/18.png 1.5x, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/18.png 2x" data-sizes="auto" alt="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/18.png" title="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/18.png" width="397" height="51" /></p>
<h3 id="chtml">CHtml</h3>
<p>基于<code>html</code>的富文本格，内嵌<code>WebView</code>对<code>html</code>内容进行编辑和浏览，<code>html</code>编辑器使用<code>Froala Editor(V3.1.1)</code>，功能强大界面美观，支持手机操作，但<code>uno</code>中<code>WebView</code>暂不支持<code>InvokeScriptAsync</code>方法，还无法设置或获取编辑器中的<code>html</code>。</p>
<p>编辑框的保存按钮只是将编辑后的<code>html</code>赋值到数据源，若需要同时保存到数据库或其他操作请处理<code>Saved</code>事件。</p>
<h3 id="ctip">CTip</h3>
<p>只读信息格，和其他编辑格相同，也是通过<code>ID</code>绑定到数据源来显示只读信息，但只适用于需要始终只读的格，以上编辑格如<code>CText</code>提供只读/编辑两种模式，可以根据需求在两模式之间动态切换，但<code>CTip</code>始终只读。用法简单，支持指定通用格式化串：
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;a:CTip</span> <span class="na">ID=</span><span class="s">&#34;tip&#34;</span> <span class="na">Title=</span><span class="s">&#34;普通只读信息&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;a:CTip</span> <span class="na">ID=</span><span class="s">&#34;tipdate&#34;</span> <span class="na">Title=</span><span class="s">&#34;日期信息&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;a:CTip</span> <span class="na">ID=</span><span class="s">&#34;tipnum&#34;</span> <span class="na">Title=</span><span class="s">&#34;数字信息&#34;</span> <span class="na">Format=</span><span class="s">&#34;N2&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;a:CTip</span> <span class="na">ID=</span><span class="s">&#34;tipclick&#34;</span> <span class="na">Title=</span><span class="s">&#34;点击事件&#34;</span> <span class="na">Click=</span><span class="s">&#34;OnTipClick&#34;</span> <span class="nt">/&gt;</span></span></span></code></pre></td></tr></table>
</div>
</div>
<img class="lazyload" src="/dt-docs/svg/loading.min.svg" data-src="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/19.png" data-srcset="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/19.png, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/19.png 1.5x, /dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/19.png 2x" data-sizes="auto" alt="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/19.png" title="/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/19.png" width="616" height="127" /></p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <section class="post-tags"></section>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="分享到 微博" data-sharer="weibo" data-url="https://daotingh.gitee.io/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/" data-title="Fv"><i class="fab fa-weibo fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="分享到 百度" data-sharer="baidu" data-url="https://daotingh.gitee.io/dt-docs/docs/3%E5%AE%A2%E6%88%B7%E7%AB%AF/3fv/" data-title="Fv"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@6.20.0/icons/baidu.svg" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>
</div>
</article><div class="toc" id="toc-auto">
                <h2 class="toc-title">目录</h2>
                <div class="toc-content" id="toc-content-auto"><nav id="TableOfContents">
  <ul>
    <li><a href="#布局">布局</a></li>
    <li><a href="#数据源">数据源</a></li>
    <li><a href="#格">格</a>
      <ul>
        <li><a href="#cbar">CBar</a></li>
        <li><a href="#clink">CLink</a></li>
        <li><a href="#cfree">CFree</a></li>
        <li><a href="#ctext">CText</a></li>
        <li><a href="#cnum">CNum</a></li>
        <li><a href="#cmask">CMask</a></li>
        <li><a href="#cdate">CDate</a></li>
        <li><a href="#cbool">CBool</a></li>
        <li><a href="#clist">CList</a></li>
        <li><a href="#cfile">CFile</a></li>
        <li><a href="#cimage">CImage</a></li>
        <li><a href="#cicon">CIcon</a></li>
        <li><a href="#ccolor">CColor</a></li>
        <li><a href="#ctree">CTree</a></li>
        <li><a href="#cpassword">CPassword</a></li>
        <li><a href="#chtml">CHtml</a></li>
        <li><a href="#ctip">CTip</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div></div>
    </div>
</div>
            </main>
            <footer class="footer">
                <div class="footer-container"><div class="footer-line">搬运工</div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2023 - 2024</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/dt-docs/" target="_blank">Daoting</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
                </div>
            </footer>
        </div>

        <div id="fixed-buttons">
            <a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a>
            <a href="#" id="view-comments" class="fixed-button" title="查看评论">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@2.4.0/css/lightgallery-bundle.min.css"><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/algoliasearch@4.13.0/dist/algoliasearch-lite.umd.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.1/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.4.0/lightgallery.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.4.0/plugins/thumbnail/lg-thumbnail.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.4.0/plugins/zoom/lg-zoom.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":50},"lightgallery":true,"search":{"algoliaAppID":"PASDMWALPK","algoliaIndex":"index.zh-cn","algoliaSearchKey":"b42948e51daaa93df92381c8e2ac0f93","highlightTag":"em","maxResultLength":10,"noResultsFound":"没有找到结果","snippetLength":30,"type":"algolia"}};</script><script type="text/javascript" src="/dt-docs/js/theme.min.js"></script>
    </body>
</html>
